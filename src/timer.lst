GAS LISTING /tmp/cc2PBipe.s 			page 1


   1               		.file	"timer.c"
   2               		.arch at90s8515
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	initPorts
  12               		.type	initPorts, @function
  13               	initPorts:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 82EA      		ldi r24,lo8(-94)
  17 0002 8BBB      		out 59-0x20,r24
  18 0004 8BEF      		ldi r24,lo8(-5)
  19 0006 8ABB      		out 58-0x20,r24
  20 0008 18BA      		out 56-0x20,__zero_reg__
  21 000a 8FEF      		ldi r24,lo8(-1)
  22 000c 87BB      		out 55-0x20,r24
  23 000e 85BB      		out 53-0x20,r24
  24 0010 84BB      		out 52-0x20,r24
  25 0012 12BA      		out 50-0x20,__zero_reg__
  26 0014 80EC      		ldi r24,lo8(-64)
  27 0016 81BB      		out 49-0x20,r24
  28               	/* epilogue: frame size=0 */
  29 0018 0895      		ret
  30               	/* epilogue end (size=1) */
  31               	/* function initPorts size 13 (12) */
  32               		.size	initPorts, .-initPorts
  33               	.global	initTimers
  34               		.type	initTimers, @function
  35               	initTimers:
  36               	/* prologue: frame size=0 */
  37               	/* prologue end (size=0) */
  38 001a 82E8      		ldi r24,lo8(-126)
  39 001c 89BF      		out 89-0x20,r24
  40 001e 83E0      		ldi r24,lo8(3)
  41 0020 83BF      		out 83-0x20,r24
  42 0022 83E8      		ldi r24,lo8(-125)
  43 0024 82BF      		out 82-0x20,r24
  44               	/* epilogue: frame size=0 */
  45 0026 0895      		ret
  46               	/* epilogue end (size=1) */
  47               	/* function initTimers size 7 (6) */
  48               		.size	initTimers, .-initTimers
  49               	.global	MilliSec
  50               	.global	MilliSec
  51               		.section .bss
  52               		.type	MilliSec, @object
  53               		.size	MilliSec, 2
  54               	MilliSec:
  55 0000 0000      		.skip 2,0
  56               	.global	oMilliSec
  57               	.global	oMilliSec
GAS LISTING /tmp/cc2PBipe.s 			page 2


  58               		.type	oMilliSec, @object
  59               		.size	oMilliSec, 2
  60               	oMilliSec:
  61 0002 0000      		.skip 2,0
  62               	.global	KeyPollMS
  63               	.global	KeyPollMS
  64               		.type	KeyPollMS, @object
  65               		.size	KeyPollMS, 1
  66               	KeyPollMS:
  67 0004 00        		.skip 1,0
  68               	.global	Seconds
  69               	.global	Seconds
  70               		.type	Seconds, @object
  71               		.size	Seconds, 1
  72               	Seconds:
  73 0005 00        		.skip 1,0
  74               		.text
  75               	.global	__vector_7
  76               		.type	__vector_7, @function
  77               	__vector_7:
  78               	/* prologue: frame size=0 */
  79 0028 1F92      		push __zero_reg__
  80 002a 0F92      		push __tmp_reg__
  81 002c 0FB6      		in __tmp_reg__,__SREG__
  82 002e 0F92      		push __tmp_reg__
  83 0030 1124      		clr __zero_reg__
  84 0032 2F93      		push r18
  85 0034 3F93      		push r19
  86 0036 4F93      		push r20
  87 0038 5F93      		push r21
  88 003a 6F93      		push r22
  89 003c 7F93      		push r23
  90 003e 8F93      		push r24
  91 0040 9F93      		push r25
  92 0042 AF93      		push r26
  93 0044 BF93      		push r27
  94 0046 EF93      		push r30
  95 0048 FF93      		push r31
  96               	/* prologue end (size=17) */
  97 004a 83E8      		ldi r24,lo8(-125)
  98 004c 82BF      		out 82-0x20,r24
  99 004e 8091 0000 		lds r24,MilliSec
 100 0052 9091 0000 		lds r25,(MilliSec)+1
 101 0056 0196      		adiw r24,1
 102 0058 9093 0000 		sts (MilliSec)+1,r25
 103 005c 8093 0000 		sts MilliSec,r24
 104 0060 8091 0000 		lds r24,oMilliSec
 105 0064 9091 0000 		lds r25,(oMilliSec)+1
 106 0068 0196      		adiw r24,1
 107 006a 9093 0000 		sts (oMilliSec)+1,r25
 108 006e 8093 0000 		sts oMilliSec,r24
 109 0072 8091 0000 		lds r24,KeyPollMS
 110 0076 8F5F      		subi r24,lo8(-(1))
 111 0078 8093 0000 		sts KeyPollMS,r24
 112 007c 8431      		cpi r24,lo8(20)
 113 007e 21F4      		brne .L4
 114 0080 1092 0000 		sts KeyPollMS,__zero_reg__
GAS LISTING /tmp/cc2PBipe.s 			page 3


 115 0084 00D0      		rcall polling_teclat
 116 0086 00D0      		rcall polling_fc
 117               	.L4:
 118 0088 8091 0000 		lds r24,oMilliSec
 119 008c 9091 0000 		lds r25,(oMilliSec)+1
 120 0090 885E      		subi r24,lo8(1000)
 121 0092 9340      		sbci r25,hi8(1000)
 122 0094 A1F4      		brne .L3
 123 0096 1092 0000 		sts (oMilliSec)+1,__zero_reg__
 124 009a 1092 0000 		sts oMilliSec,__zero_reg__
 125 009e 8091 0000 		lds r24,Seconds
 126 00a2 8F5F      		subi r24,lo8(-(1))
 127 00a4 8093 0000 		sts Seconds,r24
 128 00a8 989B      		sbis 51-0x20,0
 129 00aa 02C0      		rjmp .L6
 130 00ac A898      		cbi 53-0x20,0
 131 00ae 01C0      		rjmp .L7
 132               	.L6:
 133 00b0 A89A      		sbi 53-0x20,0
 134               	.L7:
 135 00b2 8091 0000 		lds r24,Seconds
 136 00b6 8C33      		cpi r24,lo8(60)
 137 00b8 11F4      		brne .L3
 138 00ba 1092 0000 		sts Seconds,__zero_reg__
 139               	.L3:
 140               	/* epilogue: frame size=0 */
 141 00be FF91      		pop r31
 142 00c0 EF91      		pop r30
 143 00c2 BF91      		pop r27
 144 00c4 AF91      		pop r26
 145 00c6 9F91      		pop r25
 146 00c8 8F91      		pop r24
 147 00ca 7F91      		pop r23
 148 00cc 6F91      		pop r22
 149 00ce 5F91      		pop r21
 150 00d0 4F91      		pop r20
 151 00d2 3F91      		pop r19
 152 00d4 2F91      		pop r18
 153 00d6 0F90      		pop __tmp_reg__
 154 00d8 0FBE      		out __SREG__,__tmp_reg__
 155 00da 0F90      		pop __tmp_reg__
 156 00dc 1F90      		pop __zero_reg__
 157 00de 1895      		reti
 158               	/* epilogue end (size=17) */
 159               	/* function __vector_7 size 93 (59) */
 160               		.size	__vector_7, .-__vector_7
 161               	.global	delay
 162               		.type	delay, @function
 163               	delay:
 164               	/* prologue: frame size=0 */
 165               	/* prologue end (size=0) */
 166 00e0 2091 0000 		lds r18,MilliSec
 167 00e4 3091 0000 		lds r19,(MilliSec)+1
 168 00e8 280F      		add r18,r24
 169 00ea 391F      		adc r19,r25
 170               	.L10:
 171 00ec 8091 0000 		lds r24,MilliSec
GAS LISTING /tmp/cc2PBipe.s 			page 4


 172 00f0 9091 0000 		lds r25,(MilliSec)+1
 173 00f4 8217      		cp r24,r18
 174 00f6 9307      		cpc r25,r19
 175 00f8 C9F7      		brne .L10
 176               	/* epilogue: frame size=0 */
 177 00fa 0895      		ret
 178               	/* epilogue end (size=1) */
 179               	/* function delay size 14 (13) */
 180               		.size	delay, .-delay
 181               	/* File "timer.c": code  127 = 0x007f (  90), prologues  17, epilogues  20 */
GAS LISTING /tmp/cc2PBipe.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 timer.c
                            *ABS*:0000003f __SREG__
                            *ABS*:0000003e __SP_H__
                            *ABS*:0000003d __SP_L__
                            *ABS*:00000000 __tmp_reg__
                            *ABS*:00000001 __zero_reg__
     /tmp/cc2PBipe.s:13     .text:00000000 initPorts
     /tmp/cc2PBipe.s:35     .text:0000001a initTimers
     /tmp/cc2PBipe.s:54     .bss:00000000 MilliSec
     /tmp/cc2PBipe.s:60     .bss:00000002 oMilliSec
     /tmp/cc2PBipe.s:66     .bss:00000004 KeyPollMS
     /tmp/cc2PBipe.s:72     .bss:00000005 Seconds
     /tmp/cc2PBipe.s:77     .text:00000028 __vector_7
     /tmp/cc2PBipe.s:163    .text:000000e0 delay

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
polling_teclat
polling_fc
