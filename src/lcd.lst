GAS LISTING /tmp/ccj5yW5e.s 			page 1


   1               		.file	"lcd.c"
   2               		.arch at90s8515
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               	.global	lcd_address
  11               	.global	lcd_address
  12               		.section .bss
  13               		.type	lcd_address, @object
  14               		.size	lcd_address, 1
  15               	lcd_address:
  16 0000 00        		.skip 1,0
  17               		.text
  18               	.global	delay40us
  19               		.type	delay40us, @function
  20               	delay40us:
  21               	/* prologue: frame size=0 */
  22               	/* prologue end (size=0) */
  23 0000 90E0      		ldi r25,lo8(0)
  24               	.L9:
  25 0002 80E0      		ldi r24,lo8(0)
  26               	.L8:
  27 0004 8F5F      		subi r24,lo8(-(1))
  28 0006 8830      		cpi r24,lo8(8)
  29 0008 E8F3      		brlo .L8
  30 000a 9F5F      		subi r25,lo8(-(1))
  31 000c 9832      		cpi r25,lo8(40)
  32 000e C8F3      		brlo .L9
  33               	/* epilogue: frame size=0 */
  34 0010 0895      		ret
  35               	/* epilogue end (size=1) */
  36               	/* function delay40us size 9 (8) */
  37               		.size	delay40us, .-delay40us
  38               	.global	delay_lcd
  39               		.type	delay_lcd, @function
  40               	delay_lcd:
  41               	/* prologue: frame size=0 */
  42               	/* prologue end (size=0) */
  43 0012 20E0      		ldi r18,lo8(0)
  44 0014 30E0      		ldi r19,hi8(0)
  45               	.L22:
  46 0016 80E0      		ldi r24,lo8(0)
  47 0018 90E0      		ldi r25,hi8(0)
  48               	.L21:
  49 001a 0196      		adiw r24,1
  50 001c 8F3F      		cpi r24,255
  51 001e 9105      		cpc r25,__zero_reg__
  52 0020 E1F3      		breq .L21
  53 0022 D8F3      		brlo .L21
  54 0024 2F5F      		subi r18,lo8(-(1))
  55 0026 3F4F      		sbci r19,hi8(-(1))
  56 0028 2138      		cpi r18,129
  57 002a 3105      		cpc r19,__zero_reg__
GAS LISTING /tmp/ccj5yW5e.s 			page 2


  58 002c A0F3      		brlo .L22
  59               	/* epilogue: frame size=0 */
  60 002e 0895      		ret
  61               	/* epilogue end (size=1) */
  62               	/* function delay_lcd size 15 (14) */
  63               		.size	delay_lcd, .-delay_lcd
  64               	.global	writeNibbleLcd
  65               		.type	writeNibbleLcd, @function
  66               	writeNibbleLcd:
  67               	/* prologue: frame size=0 */
  68               	/* prologue end (size=0) */
  69 0030 982F      		mov r25,r24
  70 0032 907F      		andi r25,lo8(-16)
  71 0034 85B3      		in r24,53-0x20
  72 0036 8F70      		andi r24,lo8(15)
  73 0038 892B      		or r24,r25
  74 003a 85BB      		out 53-0x20,r24
  75               	/* #APP */
  76 003c 0000      		nop
  77 003e 0000      		nop
  78               	/* #NOAPP */
  79 0040 AA98      		cbi 53-0x20,2
  80               	/* #APP */
  81 0042 0000      		nop
  82 0044 0000      		nop
  83               	/* #NOAPP */
  84 0046 A99A      		sbi 53-0x20,1
  85 0048 80E0      		ldi r24,lo8(0)
  86               	.L31:
  87 004a 8F5F      		subi r24,lo8(-(1))
  88 004c 8832      		cpi r24,lo8(40)
  89 004e E8F3      		brlo .L31
  90 0050 A998      		cbi 53-0x20,1
  91 0052 80E0      		ldi r24,lo8(0)
  92               	.L35:
  93 0054 8F5F      		subi r24,lo8(-(1))
  94 0056 8832      		cpi r24,lo8(40)
  95 0058 E8F3      		brlo .L35
  96               	/* epilogue: frame size=0 */
  97 005a 0895      		ret
  98               	/* epilogue end (size=1) */
  99               	/* function writeNibbleLcd size 26 (25) */
 100               		.size	writeNibbleLcd, .-writeNibbleLcd
 101               	.global	writeByteLcd
 102               		.type	writeByteLcd, @function
 103               	writeByteLcd:
 104               	/* prologue: frame size=0 */
 105 005c 1F93      		push r17
 106               	/* prologue end (size=1) */
 107 005e 182F      		mov r17,r24
 108 0060 E7DF      		rcall writeNibbleLcd
 109 0062 812F      		mov r24,r17
 110 0064 8295      		swap r24
 111 0066 807F      		andi r24,0xf0
 112 0068 E3DF      		rcall writeNibbleLcd
 113               	/* epilogue: frame size=0 */
 114 006a 1F91      		pop r17
GAS LISTING /tmp/ccj5yW5e.s 			page 3


 115 006c 0895      		ret
 116               	/* epilogue end (size=2) */
 117               	/* function writeByteLcd size 9 (6) */
 118               		.size	writeByteLcd, .-writeByteLcd
 119               	.global	setLcdCmd
 120               		.type	setLcdCmd, @function
 121               	setLcdCmd:
 122               	/* prologue: frame size=0 */
 123               	/* prologue end (size=0) */
 124 006e AB98      		cbi 53-0x20,3
 125               	/* #APP */
 126 0070 0000      		nop
 127 0072 0000      		nop
 128               	/* #NOAPP */
 129 0074 F3DF      		rcall writeByteLcd
 130               	/* epilogue: frame size=0 */
 131 0076 0895      		ret
 132               	/* epilogue end (size=1) */
 133               	/* function setLcdCmd size 7 (6) */
 134               		.size	setLcdCmd, .-setLcdCmd
 135               	.global	setPosLcd
 136               		.type	setPosLcd, @function
 137               	setPosLcd:
 138               	/* prologue: frame size=0 */
 139               	/* prologue end (size=0) */
 140 0078 8068      		ori r24,lo8(-128)
 141 007a F9DF      		rcall setLcdCmd
 142 007c C1DF      		rcall delay40us
 143               	/* epilogue: frame size=0 */
 144 007e 0895      		ret
 145               	/* epilogue end (size=1) */
 146               	/* function setPosLcd size 4 (3) */
 147               		.size	setPosLcd, .-setPosLcd
 148               	.global	dataWriteLcd
 149               		.type	dataWriteLcd, @function
 150               	dataWriteLcd:
 151               	/* prologue: frame size=0 */
 152               	/* prologue end (size=0) */
 153 0080 AB9A      		sbi 53-0x20,3
 154               	/* #APP */
 155 0082 0000      		nop
 156 0084 0000      		nop
 157               	/* #NOAPP */
 158 0086 EADF      		rcall writeByteLcd
 159 0088 BBDF      		rcall delay40us
 160               	/* epilogue: frame size=0 */
 161 008a 0895      		ret
 162               	/* epilogue end (size=1) */
 163               	/* function dataWriteLcd size 8 (7) */
 164               		.size	dataWriteLcd, .-dataWriteLcd
 165               	.global	initLcd
 166               		.type	initLcd, @function
 167               	initLcd:
 168               	/* prologue: frame size=0 */
 169               	/* prologue end (size=0) */
 170 008c 15BA      		out 53-0x20,__zero_reg__
 171 008e 8FEF      		ldi r24,lo8(-1)
GAS LISTING /tmp/ccj5yW5e.s 			page 4


 172 0090 84BB      		out 52-0x20,r24
 173 0092 84E6      		ldi r24,lo8(100)
 174 0094 90E0      		ldi r25,hi8(100)
 175 0096 BDDF      		rcall delay_lcd
 176 0098 80E3      		ldi r24,lo8(48)
 177 009a CADF      		rcall writeNibbleLcd
 178 009c 85E0      		ldi r24,lo8(5)
 179 009e 90E0      		ldi r25,hi8(5)
 180 00a0 B8DF      		rcall delay_lcd
 181 00a2 80E3      		ldi r24,lo8(48)
 182 00a4 C5DF      		rcall writeNibbleLcd
 183 00a6 81E0      		ldi r24,lo8(1)
 184 00a8 90E0      		ldi r25,hi8(1)
 185 00aa B3DF      		rcall delay_lcd
 186 00ac 80E3      		ldi r24,lo8(48)
 187 00ae C0DF      		rcall writeNibbleLcd
 188 00b0 80E2      		ldi r24,lo8(32)
 189 00b2 BEDF      		rcall writeNibbleLcd
 190 00b4 88E2      		ldi r24,lo8(40)
 191 00b6 D2DF      		rcall writeByteLcd
 192 00b8 A3DF      		rcall delay40us
 193 00ba 88E0      		ldi r24,lo8(8)
 194 00bc CFDF      		rcall writeByteLcd
 195 00be A0DF      		rcall delay40us
 196 00c0 8CE0      		ldi r24,lo8(12)
 197 00c2 CCDF      		rcall writeByteLcd
 198 00c4 9DDF      		rcall delay40us
 199 00c6 81E0      		ldi r24,lo8(1)
 200 00c8 C9DF      		rcall writeByteLcd
 201 00ca 82E0      		ldi r24,lo8(2)
 202 00cc 90E0      		ldi r25,hi8(2)
 203 00ce A1DF      		rcall delay_lcd
 204 00d0 86E0      		ldi r24,lo8(6)
 205 00d2 C4DF      		rcall writeByteLcd
 206 00d4 95DF      		rcall delay40us
 207 00d6 30D0      		rcall cls_lcd
 208               	/* epilogue: frame size=0 */
 209 00d8 0895      		ret
 210               	/* epilogue end (size=1) */
 211               	/* function initLcd size 39 (38) */
 212               		.size	initLcd, .-initLcd
 213               	.global	putchar_lcd
 214               		.type	putchar_lcd, @function
 215               	putchar_lcd:
 216               	/* prologue: frame size=0 */
 217               	/* prologue end (size=0) */
 218 00da 8830      		cpi r24,lo8(8)
 219 00dc 71F4      		brne .L46
 220 00de 8091 0000 		lds r24,lcd_address
 221 00e2 8823      		tst r24
 222 00e4 41F1      		breq .L45
 223 00e6 8150      		subi r24,lo8(-(-1))
 224 00e8 8093 0000 		sts lcd_address,r24
 225 00ec C5DF      		rcall setPosLcd
 226 00ee 80E2      		ldi r24,lo8(32)
 227 00f0 C7DF      		rcall dataWriteLcd
 228 00f2 8091 0000 		lds r24,lcd_address
GAS LISTING /tmp/ccj5yW5e.s 			page 5


 229 00f6 C0DF      		rcall setPosLcd
 230 00f8 0895      		ret
 231               	.L46:
 232 00fa 8A30      		cpi r24,lo8(10)
 233 00fc 59F4      		brne .L49
 234 00fe 8091 0000 		lds r24,lcd_address
 235 0102 8034      		cpi r24,lo8(64)
 236 0104 28F4      		brsh .L50
 237 0106 80E4      		ldi r24,lo8(64)
 238 0108 8093 0000 		sts lcd_address,r24
 239 010c B5DF      		rcall setPosLcd
 240 010e 0895      		ret
 241               	.L50:
 242 0110 13D0      		rcall cls_lcd
 243 0112 0895      		ret
 244               	.L49:
 245 0114 B5DF      		rcall dataWriteLcd
 246 0116 8091 0000 		lds r24,lcd_address
 247 011a 8F5F      		subi r24,lo8(-(1))
 248 011c 8093 0000 		sts lcd_address,r24
 249 0120 8832      		cpi r24,lo8(40)
 250 0122 19F4      		brne .L53
 251 0124 80E4      		ldi r24,lo8(64)
 252 0126 8093 0000 		sts lcd_address,r24
 253               	.L53:
 254 012a 8091 0000 		lds r24,lcd_address
 255 012e 8836      		cpi r24,lo8(104)
 256 0130 11F4      		brne .L45
 257 0132 1092 0000 		sts lcd_address,__zero_reg__
 258               	.L45:
 259 0136 0895      		ret
 260               	/* epilogue: frame size=0 */
 261               	/* epilogue: noreturn */
 262               	/* epilogue end (size=0) */
 263               	/* function putchar_lcd size 47 (47) */
 264               		.size	putchar_lcd, .-putchar_lcd
 265               	.global	cls_lcd
 266               		.type	cls_lcd, @function
 267               	cls_lcd:
 268               	/* prologue: frame size=0 */
 269               	/* prologue end (size=0) */
 270 0138 81E0      		ldi r24,lo8(1)
 271 013a 99DF      		rcall setLcdCmd
 272 013c 82E0      		ldi r24,lo8(2)
 273 013e 90E0      		ldi r25,hi8(2)
 274 0140 68DF      		rcall delay_lcd
 275 0142 1092 0000 		sts lcd_address,__zero_reg__
 276               	/* epilogue: frame size=0 */
 277 0146 0895      		ret
 278               	/* epilogue end (size=1) */
 279               	/* function cls_lcd size 8 (7) */
 280               		.size	cls_lcd, .-cls_lcd
 281               	.global	cursor_on
 282               		.type	cursor_on, @function
 283               	cursor_on:
 284               	/* prologue: frame size=0 */
 285               	/* prologue end (size=0) */
GAS LISTING /tmp/ccj5yW5e.s 			page 6


 286 0148 8EE0      		ldi r24,lo8(14)
 287 014a 91DF      		rcall setLcdCmd
 288 014c 59DF      		rcall delay40us
 289               	/* epilogue: frame size=0 */
 290 014e 0895      		ret
 291               	/* epilogue end (size=1) */
 292               	/* function cursor_on size 4 (3) */
 293               		.size	cursor_on, .-cursor_on
 294               	.global	cursor_off
 295               		.type	cursor_off, @function
 296               	cursor_off:
 297               	/* prologue: frame size=0 */
 298               	/* prologue end (size=0) */
 299 0150 8CE0      		ldi r24,lo8(12)
 300 0152 8DDF      		rcall setLcdCmd
 301 0154 55DF      		rcall delay40us
 302               	/* epilogue: frame size=0 */
 303 0156 0895      		ret
 304               	/* epilogue end (size=1) */
 305               	/* function cursor_off size 4 (3) */
 306               		.size	cursor_off, .-cursor_off
 307               	.global	setpos_lcd
 308               		.type	setpos_lcd, @function
 309               	setpos_lcd:
 310               	/* prologue: frame size=0 */
 311 0158 CF93      		push r28
 312               	/* prologue end (size=1) */
 313 015a C62F      		mov r28,r22
 314 015c C150      		subi r28,lo8(-(-1))
 315 015e 8230      		cpi r24,lo8(2)
 316 0160 08F0      		brlo .L59
 317 0162 C05C      		subi r28,lo8(-(64))
 318               	.L59:
 319 0164 8C2F      		mov r24,r28
 320 0166 88DF      		rcall setPosLcd
 321 0168 C093 0000 		sts lcd_address,r28
 322               	/* epilogue: frame size=0 */
 323 016c CF91      		pop r28
 324 016e 0895      		ret
 325               	/* epilogue end (size=2) */
 326               	/* function setpos_lcd size 12 (9) */
 327               		.size	setpos_lcd, .-setpos_lcd
 328               	.global	print_lcd
 329               		.type	print_lcd, @function
 330               	print_lcd:
 331               	/* prologue: frame size=0 */
 332 0170 1F93      		push r17
 333 0172 CF93      		push r28
 334 0174 DF93      		push r29
 335               	/* prologue end (size=3) */
 336 0176 D92F      		mov r29,r25
 337 0178 C82F      		mov r28,r24
 338 017a 10E0      		ldi r17,lo8(0)
 339               	.L63:
 340 017c FD2F      		mov r31,r29
 341 017e EC2F      		mov r30,r28
 342 0180 E10F      		add r30,r17
GAS LISTING /tmp/ccj5yW5e.s 			page 7


 343 0182 F11D      		adc r31,__zero_reg__
 344 0184 8081      		ld r24,Z
 345 0186 A9DF      		rcall putchar_lcd
 346 0188 1F5F      		subi r17,lo8(-(1))
 347 018a 212F      		mov r18,r17
 348 018c 3327      		clr r19
 349 018e FD2F      		mov r31,r29
 350 0190 EC2F      		mov r30,r28
 351 0192 0190      		ld __tmp_reg__,Z+
 352 0194 0020      		tst __tmp_reg__
 353 0196 E9F7      		brne .-6
 354 0198 3197      		sbiw r30,1
 355 019a 8E2F      		mov r24,r30
 356 019c 9F2F      		mov r25,r31
 357 019e 8C1B      		sub r24,r28
 358 01a0 9D0B      		sbc r25,r29
 359 01a2 0197      		sbiw r24,1
 360 01a4 8217      		cp r24,r18
 361 01a6 9307      		cpc r25,r19
 362 01a8 48F7      		brsh .L63
 363               	/* epilogue: frame size=0 */
 364 01aa DF91      		pop r29
 365 01ac CF91      		pop r28
 366 01ae 1F91      		pop r17
 367 01b0 0895      		ret
 368               	/* epilogue end (size=4) */
 369               	/* function print_lcd size 33 (26) */
 370               		.size	print_lcd, .-print_lcd
 371               	.global	pinta_valor
 372               		.type	pinta_valor, @function
 373               	pinta_valor:
 374               	/* prologue: frame size=5 */
 375 01b2 CF93      		push r28
 376 01b4 DF93      		push r29
 377 01b6 CDB7      		in r28,__SP_L__
 378 01b8 DEB7      		in r29,__SP_H__
 379 01ba 2597      		sbiw r28,5
 380 01bc 0FB6      		in __tmp_reg__,__SREG__
 381 01be F894      		cli
 382 01c0 DEBF      		out __SP_H__,r29
 383 01c2 0FBE      		out __SREG__,__tmp_reg__
 384 01c4 CDBF      		out __SP_L__,r28
 385               	/* prologue end (size=10) */
 386 01c6 4AE0      		ldi r20,lo8(10)
 387 01c8 50E0      		ldi r21,hi8(10)
 388 01ca 6C2F      		mov r22,r28
 389 01cc 7D2F      		mov r23,r29
 390 01ce 6F5F      		subi r22,lo8(-(1))
 391 01d0 7F4F      		sbci r23,hi8(-(1))
 392 01d2 00D0      		rcall itoa
 393 01d4 8C2F      		mov r24,r28
 394 01d6 9D2F      		mov r25,r29
 395 01d8 0196      		adiw r24,1
 396 01da CADF      		rcall print_lcd
 397               	/* epilogue: frame size=5 */
 398 01dc 2596      		adiw r28,5
 399 01de 0FB6      		in __tmp_reg__,__SREG__
GAS LISTING /tmp/ccj5yW5e.s 			page 8


 400 01e0 F894      		cli
 401 01e2 DEBF      		out __SP_H__,r29
 402 01e4 0FBE      		out __SREG__,__tmp_reg__
 403 01e6 CDBF      		out __SP_L__,r28
 404 01e8 DF91      		pop r29
 405 01ea CF91      		pop r28
 406 01ec 0895      		ret
 407               	/* epilogue end (size=9) */
 408               	/* function pinta_valor size 30 (11) */
 409               		.size	pinta_valor, .-pinta_valor
 410               	/* File "lcd.c": code  255 = 0x00ff ( 213), prologues  15, epilogues  27 */
GAS LISTING /tmp/ccj5yW5e.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 lcd.c
                            *ABS*:0000003f __SREG__
                            *ABS*:0000003e __SP_H__
                            *ABS*:0000003d __SP_L__
                            *ABS*:00000000 __tmp_reg__
                            *ABS*:00000001 __zero_reg__
     /tmp/ccj5yW5e.s:15     .bss:00000000 lcd_address
     /tmp/ccj5yW5e.s:20     .text:00000000 delay40us
     /tmp/ccj5yW5e.s:40     .text:00000012 delay_lcd
     /tmp/ccj5yW5e.s:66     .text:00000030 writeNibbleLcd
     /tmp/ccj5yW5e.s:103    .text:0000005c writeByteLcd
     /tmp/ccj5yW5e.s:121    .text:0000006e setLcdCmd
     /tmp/ccj5yW5e.s:137    .text:00000078 setPosLcd
     /tmp/ccj5yW5e.s:150    .text:00000080 dataWriteLcd
     /tmp/ccj5yW5e.s:167    .text:0000008c initLcd
     /tmp/ccj5yW5e.s:267    .text:00000138 cls_lcd
     /tmp/ccj5yW5e.s:215    .text:000000da putchar_lcd
     /tmp/ccj5yW5e.s:283    .text:00000148 cursor_on
     /tmp/ccj5yW5e.s:296    .text:00000150 cursor_off
     /tmp/ccj5yW5e.s:309    .text:00000158 setpos_lcd
     /tmp/ccj5yW5e.s:330    .text:00000170 print_lcd
     /tmp/ccj5yW5e.s:373    .text:000001b2 pinta_valor

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
itoa
